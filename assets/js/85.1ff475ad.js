(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{493:function(t,e,a){"use strict";a.r(e);var n=a(42),v=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"通用首部字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通用首部字段"}},[t._v("#")]),t._v(" 通用首部字段")]),t._v(" "),a("h2",{attrs:{id:"cache-control"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cache-control"}},[t._v("#")]),t._v(" Cache-Control")]),t._v(" "),a("p",[t._v("通过Cache-Control的指令，可以操作缓存。")]),t._v(" "),a("p",[t._v("缓存请求指令：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("no-cache")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("经过缓存服务器，缓存服务器必须向原服务器验证缓存是否过期")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("no-store")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("缓存服务器不能缓存请求的任一部分")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("max-age=[秒]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("必需")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("若缓存服务器缓存的时间小于max-age，则返回缓存的资源")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("max-stale(=[秒])")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("可省略")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("允许接收过期缓存，过期时间在max-stale内的缓存都接受，默认时间是无限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("min-fresh=[秒]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("必需")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("在min-fresh之后未过期则缓存服务器可返回缓存")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("no-transform")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("缓存不能改变实体主体的媒体类型，防止缓存压缩图片等")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("only-if-cached")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("仅在缓存服务器有缓存的时候才返回")])])])]),t._v(" "),a("p",[t._v("缓存响应指令")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("public")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("缓存服务器可以缓存资源")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("private")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("可省略")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("仅对特定用户提供资源缓存，对其他用户不会返回缓存")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("no-cache")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("可省略")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("缓存代理和客户端可以缓存，下次使用时需要先询问是否过期")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("no-store")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不能进行缓存")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("no-transform")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("缓存不能改变实体主体的媒体类型，防止缓存压缩图片等")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("must-revalidate")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("可以缓存但是下次使用必须先询问是否过期")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("proxy-revalidate")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("针对缓存服务器，可以缓存，使用缓存是先询问是否过期")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("max-age=[秒]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("必需")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("max-age时间内不需要询问是否过期")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("s-maxage=[秒]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("必需")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("针对缓存服务器的max-age")])])])]),t._v(" "),a("h2",{attrs:{id:"connection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connection"}},[t._v("#")]),t._v(" Connection")]),t._v(" "),a("p",[t._v("Connection首部字段有两个作用：")]),t._v(" "),a("ul",[a("li",[t._v("控制不再转发的首部字段。代理遇到Connection，不再转发Connection指定的首部")]),t._v(" "),a("li",[t._v("管理持久连接。HTTP/1.1默认是持久连接，所以会有"),a("code",[t._v("Connection：Keep-Alive")])])]),t._v(" "),a("h2",{attrs:{id:"date"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#date"}},[t._v("#")]),t._v(" Date")]),t._v(" "),a("p",[t._v("Date首部表明创建报文的时间")]),t._v(" "),a("h2",{attrs:{id:"pragma"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pragma"}},[t._v("#")]),t._v(" Pragma")]),t._v(" "),a("p",[t._v("旧版本的遗留字段，应使用Cache-Control代替")]),t._v(" "),a("h2",{attrs:{id:"trailer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#trailer"}},[t._v("#")]),t._v(" Trailer")]),t._v(" "),a("p",[t._v("分块传输时使用")]),t._v(" "),a("h2",{attrs:{id:"transfer-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transfer-encoding"}},[t._v("#")]),t._v(" Transfer-Encoding")]),t._v(" "),a("p",[t._v("分块传输时使用")]),t._v(" "),a("h2",{attrs:{id:"upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade"}},[t._v("#")]),t._v(" Upgrade")]),t._v(" "),a("p",[t._v("询问是否可以使用其他通信协议")]),t._v(" "),a("h2",{attrs:{id:"via"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#via"}},[t._v("#")]),t._v(" Via")]),t._v(" "),a("p",[t._v("Via首部是为了追踪客户端和服务器之间的请求和响应报文的传输路径。")]),t._v(" "),a("p",[t._v("报文经过代理时会在Via中附加该服务器的信息然后再进行转发")]),t._v(" "),a("p",[t._v("经常会和Trace方法一起使用")]),t._v(" "),a("h2",{attrs:{id:"warning"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#warning"}},[t._v("#")]),t._v(" Warning")]),t._v(" "),a("p",[t._v("Warning包含报文当前状态可能存在的问题")])])}),[],!1,null,null,null);e.default=v.exports}}]);