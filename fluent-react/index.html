<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fluent React | notebook</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/notebook/favicon.ico">
    <meta name="description" content="">
    <link rel="preload" href="/notebook/assets/css/0.styles.5dd3b3b5.css" as="style"><link rel="preload" href="/notebook/assets/js/app.c05f7634.js" as="script"><link rel="preload" href="/notebook/assets/js/2.76d9cd0c.js" as="script"><link rel="preload" href="/notebook/assets/js/16.ff20a781.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.ecdb3ecb.js"><link rel="prefetch" href="/notebook/assets/js/100.de07b6ec.js"><link rel="prefetch" href="/notebook/assets/js/101.8b03ca31.js"><link rel="prefetch" href="/notebook/assets/js/102.a46a20d0.js"><link rel="prefetch" href="/notebook/assets/js/103.0a176f15.js"><link rel="prefetch" href="/notebook/assets/js/104.48dbe960.js"><link rel="prefetch" href="/notebook/assets/js/105.ede088b2.js"><link rel="prefetch" href="/notebook/assets/js/106.bec077e9.js"><link rel="prefetch" href="/notebook/assets/js/107.f5d8a274.js"><link rel="prefetch" href="/notebook/assets/js/108.ce518547.js"><link rel="prefetch" href="/notebook/assets/js/109.c60495eb.js"><link rel="prefetch" href="/notebook/assets/js/11.4dcd2628.js"><link rel="prefetch" href="/notebook/assets/js/110.a9445a2e.js"><link rel="prefetch" href="/notebook/assets/js/111.38af72ea.js"><link rel="prefetch" href="/notebook/assets/js/112.463d0a59.js"><link rel="prefetch" href="/notebook/assets/js/113.1a784a9b.js"><link rel="prefetch" href="/notebook/assets/js/114.764d3369.js"><link rel="prefetch" href="/notebook/assets/js/115.2c408958.js"><link rel="prefetch" href="/notebook/assets/js/116.f0a1a43f.js"><link rel="prefetch" href="/notebook/assets/js/117.8b25eb65.js"><link rel="prefetch" href="/notebook/assets/js/118.9fd8e8f5.js"><link rel="prefetch" href="/notebook/assets/js/119.826fb4a5.js"><link rel="prefetch" href="/notebook/assets/js/12.bacc8c80.js"><link rel="prefetch" href="/notebook/assets/js/120.95488fdb.js"><link rel="prefetch" href="/notebook/assets/js/121.7b39648f.js"><link rel="prefetch" href="/notebook/assets/js/122.8e108318.js"><link rel="prefetch" href="/notebook/assets/js/123.75e21f33.js"><link rel="prefetch" href="/notebook/assets/js/124.3ee55e2e.js"><link rel="prefetch" href="/notebook/assets/js/125.b2852474.js"><link rel="prefetch" href="/notebook/assets/js/126.30e84aae.js"><link rel="prefetch" href="/notebook/assets/js/127.6a7d3040.js"><link rel="prefetch" href="/notebook/assets/js/128.086b07a3.js"><link rel="prefetch" href="/notebook/assets/js/129.ca04702b.js"><link rel="prefetch" href="/notebook/assets/js/13.9a716094.js"><link rel="prefetch" href="/notebook/assets/js/130.6d938173.js"><link rel="prefetch" href="/notebook/assets/js/131.0d8551ee.js"><link rel="prefetch" href="/notebook/assets/js/132.9ac923e2.js"><link rel="prefetch" href="/notebook/assets/js/133.b4f10fce.js"><link rel="prefetch" href="/notebook/assets/js/134.5f770408.js"><link rel="prefetch" href="/notebook/assets/js/135.49619ad3.js"><link rel="prefetch" href="/notebook/assets/js/136.fdf33dab.js"><link rel="prefetch" href="/notebook/assets/js/137.e8efd008.js"><link rel="prefetch" href="/notebook/assets/js/138.06fda53c.js"><link rel="prefetch" href="/notebook/assets/js/139.a18638b5.js"><link rel="prefetch" href="/notebook/assets/js/14.41cf69c7.js"><link rel="prefetch" href="/notebook/assets/js/140.4c703649.js"><link rel="prefetch" href="/notebook/assets/js/141.acddeb95.js"><link rel="prefetch" href="/notebook/assets/js/142.080298cf.js"><link rel="prefetch" href="/notebook/assets/js/143.1043edda.js"><link rel="prefetch" href="/notebook/assets/js/144.09dd3e72.js"><link rel="prefetch" href="/notebook/assets/js/145.a1d1cf23.js"><link rel="prefetch" href="/notebook/assets/js/146.aee09625.js"><link rel="prefetch" href="/notebook/assets/js/147.4a91109a.js"><link rel="prefetch" href="/notebook/assets/js/148.c7d21ec3.js"><link rel="prefetch" href="/notebook/assets/js/149.49a45288.js"><link rel="prefetch" href="/notebook/assets/js/15.69d180e0.js"><link rel="prefetch" href="/notebook/assets/js/150.b497e011.js"><link rel="prefetch" href="/notebook/assets/js/151.871659b1.js"><link rel="prefetch" href="/notebook/assets/js/152.1de2f05f.js"><link rel="prefetch" href="/notebook/assets/js/153.bc6500f7.js"><link rel="prefetch" href="/notebook/assets/js/154.7c37b0ca.js"><link rel="prefetch" href="/notebook/assets/js/155.7016af85.js"><link rel="prefetch" href="/notebook/assets/js/156.eb310df7.js"><link rel="prefetch" href="/notebook/assets/js/157.e8d50a8f.js"><link rel="prefetch" href="/notebook/assets/js/158.bb6d4f6f.js"><link rel="prefetch" href="/notebook/assets/js/159.d5582efd.js"><link rel="prefetch" href="/notebook/assets/js/17.cab0d80e.js"><link rel="prefetch" href="/notebook/assets/js/18.78c8c80e.js"><link rel="prefetch" href="/notebook/assets/js/19.889fc80f.js"><link rel="prefetch" href="/notebook/assets/js/20.d8921156.js"><link rel="prefetch" href="/notebook/assets/js/21.2cd0a0db.js"><link rel="prefetch" href="/notebook/assets/js/22.543c8c76.js"><link rel="prefetch" href="/notebook/assets/js/23.62517148.js"><link rel="prefetch" href="/notebook/assets/js/24.e26ba061.js"><link rel="prefetch" href="/notebook/assets/js/25.a05e1905.js"><link rel="prefetch" href="/notebook/assets/js/26.e6e4e13a.js"><link rel="prefetch" href="/notebook/assets/js/27.fcc45843.js"><link rel="prefetch" href="/notebook/assets/js/28.9ce645f3.js"><link rel="prefetch" href="/notebook/assets/js/29.42b05a1d.js"><link rel="prefetch" href="/notebook/assets/js/3.94800e2c.js"><link rel="prefetch" href="/notebook/assets/js/30.a37cd034.js"><link rel="prefetch" href="/notebook/assets/js/31.9b03b73a.js"><link rel="prefetch" href="/notebook/assets/js/32.c2ce125f.js"><link rel="prefetch" href="/notebook/assets/js/33.6fca96bf.js"><link rel="prefetch" href="/notebook/assets/js/34.8f4c725e.js"><link rel="prefetch" href="/notebook/assets/js/35.447ee6ff.js"><link rel="prefetch" href="/notebook/assets/js/36.df8e7b43.js"><link rel="prefetch" href="/notebook/assets/js/37.a760bc54.js"><link rel="prefetch" href="/notebook/assets/js/38.97118d4c.js"><link rel="prefetch" href="/notebook/assets/js/39.570dcc27.js"><link rel="prefetch" href="/notebook/assets/js/4.43953ac8.js"><link rel="prefetch" href="/notebook/assets/js/40.63cc411b.js"><link rel="prefetch" href="/notebook/assets/js/41.45e736e3.js"><link rel="prefetch" href="/notebook/assets/js/42.8e67ac11.js"><link rel="prefetch" href="/notebook/assets/js/43.a89c704f.js"><link rel="prefetch" href="/notebook/assets/js/44.fe37e544.js"><link rel="prefetch" href="/notebook/assets/js/45.02160e4a.js"><link rel="prefetch" href="/notebook/assets/js/46.19e7c128.js"><link rel="prefetch" href="/notebook/assets/js/47.94a789d8.js"><link rel="prefetch" href="/notebook/assets/js/48.f9df3e05.js"><link rel="prefetch" href="/notebook/assets/js/49.1ca55855.js"><link rel="prefetch" href="/notebook/assets/js/5.e185531a.js"><link rel="prefetch" href="/notebook/assets/js/50.97c2908e.js"><link rel="prefetch" href="/notebook/assets/js/51.aa1630eb.js"><link rel="prefetch" href="/notebook/assets/js/52.a663ca2d.js"><link rel="prefetch" href="/notebook/assets/js/53.5495c656.js"><link rel="prefetch" href="/notebook/assets/js/54.ea9078f6.js"><link rel="prefetch" href="/notebook/assets/js/55.0d2ee254.js"><link rel="prefetch" href="/notebook/assets/js/56.81b22407.js"><link rel="prefetch" href="/notebook/assets/js/57.4caeec28.js"><link rel="prefetch" href="/notebook/assets/js/58.43b9992d.js"><link rel="prefetch" href="/notebook/assets/js/59.431e7c46.js"><link rel="prefetch" href="/notebook/assets/js/6.8efc3b7d.js"><link rel="prefetch" href="/notebook/assets/js/60.304e4c11.js"><link rel="prefetch" href="/notebook/assets/js/61.a7e3b594.js"><link rel="prefetch" href="/notebook/assets/js/62.fd125609.js"><link rel="prefetch" href="/notebook/assets/js/63.3cfb7df6.js"><link rel="prefetch" href="/notebook/assets/js/64.23a0aa74.js"><link rel="prefetch" href="/notebook/assets/js/65.5910a4a7.js"><link rel="prefetch" href="/notebook/assets/js/66.5754316c.js"><link rel="prefetch" href="/notebook/assets/js/67.7f50db10.js"><link rel="prefetch" href="/notebook/assets/js/68.e0260150.js"><link rel="prefetch" href="/notebook/assets/js/69.961aa0e7.js"><link rel="prefetch" href="/notebook/assets/js/7.cb3622c9.js"><link rel="prefetch" href="/notebook/assets/js/70.ee97c0ab.js"><link rel="prefetch" href="/notebook/assets/js/71.4c63262a.js"><link rel="prefetch" href="/notebook/assets/js/72.c97112bc.js"><link rel="prefetch" href="/notebook/assets/js/73.3c824428.js"><link rel="prefetch" href="/notebook/assets/js/74.4acd35f8.js"><link rel="prefetch" href="/notebook/assets/js/75.48f4d06b.js"><link rel="prefetch" href="/notebook/assets/js/76.7478b21b.js"><link rel="prefetch" href="/notebook/assets/js/77.3b741115.js"><link rel="prefetch" href="/notebook/assets/js/78.f182f9d8.js"><link rel="prefetch" href="/notebook/assets/js/79.c7f55060.js"><link rel="prefetch" href="/notebook/assets/js/8.fae1fe88.js"><link rel="prefetch" href="/notebook/assets/js/80.f3c8fc12.js"><link rel="prefetch" href="/notebook/assets/js/81.f5f23574.js"><link rel="prefetch" href="/notebook/assets/js/82.fe4460d3.js"><link rel="prefetch" href="/notebook/assets/js/83.42dda082.js"><link rel="prefetch" href="/notebook/assets/js/84.9e1d8eb8.js"><link rel="prefetch" href="/notebook/assets/js/85.1d491de2.js"><link rel="prefetch" href="/notebook/assets/js/86.e8a0825c.js"><link rel="prefetch" href="/notebook/assets/js/87.7bd3b689.js"><link rel="prefetch" href="/notebook/assets/js/88.8fd1caa4.js"><link rel="prefetch" href="/notebook/assets/js/89.e507892b.js"><link rel="prefetch" href="/notebook/assets/js/9.83fc989e.js"><link rel="prefetch" href="/notebook/assets/js/90.0bcff047.js"><link rel="prefetch" href="/notebook/assets/js/91.29c4232c.js"><link rel="prefetch" href="/notebook/assets/js/92.f46b60cb.js"><link rel="prefetch" href="/notebook/assets/js/93.08d65ee1.js"><link rel="prefetch" href="/notebook/assets/js/94.387a8d1a.js"><link rel="prefetch" href="/notebook/assets/js/95.1c6f6e10.js"><link rel="prefetch" href="/notebook/assets/js/96.c27e3d83.js"><link rel="prefetch" href="/notebook/assets/js/97.6757a610.js"><link rel="prefetch" href="/notebook/assets/js/98.fc326724.js"><link rel="prefetch" href="/notebook/assets/js/99.dfcd1a4d.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.5dd3b3b5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><!----> <span class="site-name">notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/notebook/high-performance-web-site/" class="sidebar-link">高性能网站建设指南</a></li><li><a href="/notebook/illustration-HTTP/" class="sidebar-link">图解HTTP</a></li><li><a href="/notebook/functional-programming-in-javascript/" class="sidebar-link">JavaScript函数式编程指南</a></li><li><a href="/notebook/javascript-framework-design/" class="sidebar-link">JavaScript框架设计</a></li><li><a href="/notebook/front-end-architecture/" class="sidebar-link">前端架构设计</a></li><li><a href="/notebook/web-performance-in-action/" class="sidebar-link">web性能实战</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/web-performance-in-action/#优化css" class="sidebar-link">优化CSS</a></li><li class="sidebar-sub-header"><a href="/notebook/web-performance-in-action/#优化图片" class="sidebar-link">优化图片</a></li><li class="sidebar-sub-header"><a href="/notebook/web-performance-in-action/#优化字体" class="sidebar-link">优化字体</a></li><li class="sidebar-sub-header"><a href="/notebook/web-performance-in-action/#优化javascript" class="sidebar-link">优化JavaScript</a></li><li class="sidebar-sub-header"><a href="/notebook/web-performance-in-action/#基于service-worker和cacahestorage缓存资源" class="sidebar-link">基于service-worker和cacaheStorage缓存资源</a></li><li class="sidebar-sub-header"><a href="/notebook/web-performance-in-action/#使用资源提示" class="sidebar-link">使用资源提示</a></li><li class="sidebar-sub-header"><a href="/notebook/web-performance-in-action/#http2优化" class="sidebar-link">HTTP2优化</a></li></ul></li><li><a href="/notebook/css-in-depth/" class="sidebar-link">深入解析 CSS</a></li><li><a href="/notebook/web-security/" class="sidebar-link">白帽子讲Web安全</a></li><li><a href="/notebook/effective-typescript/" class="sidebar-link">Effective TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#getting-to-know-typescript" class="sidebar-link">Getting to Know TypeScript</a></li><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#typescript-t-type-system" class="sidebar-link">TypeScript't Type System</a></li><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#type-inference" class="sidebar-link">Type Inference</a></li><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#type-design" class="sidebar-link">Type Design</a></li><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#working-with-any" class="sidebar-link">Working with any</a></li><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#types-declarations-and-types" class="sidebar-link">Types Declarations and @types</a></li><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#writing-and-running-your-code" class="sidebar-link">Writing and Running Your Code</a></li><li class="sidebar-sub-header"><a href="/notebook/effective-typescript/#migrating-to-typescript" class="sidebar-link">Migrating to TypeScript</a></li></ul></li><li><a href="/notebook/nodejs-in-practice/" class="sidebar-link">Node.js硬实战：115个核心技巧</a></li><li><a href="/notebook/mastering-modular-javascript/" class="sidebar-link">精通模块化JavaScript</a></li><li><a href="/notebook/svg-essentials/" class="sidebar-link">SVG精髓</a></li><li><a href="/notebook/nodejs-in-depth/" class="sidebar-link">深入浅出Node.js</a></li><li><a href="/notebook/interesting-algorithm-puzzles-for-programmers/" class="sidebar-link">程序员的算法趣题</a></li><li><a href="/notebook/java-by-comparison/" class="sidebar-link">Java By Comparison</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#start-cleaning-up" class="sidebar-link">Start Cleaning Up</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#level-up-your-code-style" class="sidebar-link">Level Up Your Code Style</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#use-comments-wisely" class="sidebar-link">Use Comments Wisely</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#name-things-right" class="sidebar-link">Name Things Right</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#prepare-for-things-going-wrong" class="sidebar-link">Prepare for Things Going Wrong</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#assert-things-going-right" class="sidebar-link">Assert Things Going Right</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#design-your-objects" class="sidebar-link">Design Your Objects</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#let-your-data-flow" class="sidebar-link">Let Your Data Flow</a></li><li class="sidebar-sub-header"><a href="/notebook/java-by-comparison/#prepare-for-the-real-world" class="sidebar-link">Prepare for the Real World</a></li></ul></li><li><a href="/notebook/solidbook/" class="sidebar-link">Solid Book</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/solidbook/#complexity" class="sidebar-link">Complexity</a></li></ul></li><li><a href="/notebook/unit-testing/" class="sidebar-link">Unit Testing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#the-goal-of-unit-testing" class="sidebar-link">The goal of unit testing</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#what-is-a-unit-test" class="sidebar-link">What is a unit test</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#the-anatomy-of-a-unit-test" class="sidebar-link">The anatomy of a unit test</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#the-four-pillars-of-a-good-unit-test" class="sidebar-link">The four pillars of a good unit test</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#mocks-and-test-fragility" class="sidebar-link">Mocks and test fragility</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#styles-of-unit-testing" class="sidebar-link">Styles of unit testing</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#refactoring-toward-valuable-unit-tests" class="sidebar-link">Refactoring toward valuable unit tests</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#why-integration-testing" class="sidebar-link">Why integration testing</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#mocking-best-practices" class="sidebar-link">Mocking best practices</a></li><li class="sidebar-sub-header"><a href="/notebook/unit-testing/#unit-testing-anti-patterns" class="sidebar-link">Unit testing anti-patterns</a></li></ul></li><li><a href="/notebook/the-art-of-unit-testing/" class="sidebar-link">The Art of Unit Testing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#the-basics-of-unit-testing" class="sidebar-link">The basics of unit testing</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#a-first-unit-test" class="sidebar-link">A first unit test</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#breaking-dependencies-with-stub" class="sidebar-link">Breaking dependencies with stub</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#interaction-testing-using-mock-objects" class="sidebar-link">Interaction testing using mock objects</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#isolation-frameworks" class="sidebar-link">Isolation frameworks</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#unit-testing-asynchronous-code" class="sidebar-link">Unit testing asynchronous code</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#trustworthy-tests" class="sidebar-link">Trustworthy tests</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#maintainability" class="sidebar-link">Maintainability</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#readability" class="sidebar-link">Readability</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#developing-a-testing-strategy" class="sidebar-link">Developing a testing strategy</a></li><li class="sidebar-sub-header"><a href="/notebook/the-art-of-unit-testing/#monkey-patching-functions-and-modules" class="sidebar-link">Monkey-patching functions and modules</a></li></ul></li><li><a href="/notebook/modern-java-recipe/" class="sidebar-link">Modern Java Recipes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#the-basics" class="sidebar-link">The Basics</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#the-java-util-function-package" class="sidebar-link">The java.util.function Package</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#streams" class="sidebar-link">Streams</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#comparators-and-collectors" class="sidebar-link">Comparators and Collectors</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#issues-with-streams-lambdas-and-method-references" class="sidebar-link">Issues with Streams, Lambdas, and Method References</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#the-optional-type" class="sidebar-link">The Optional Type</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#file-i-o" class="sidebar-link">File I/O</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#the-java-time-package" class="sidebar-link">The java.time Package</a></li><li class="sidebar-sub-header"><a href="/notebook/modern-java-recipe/#parallelism-and-concurrency" class="sidebar-link">Parallelism and Concurrency</a></li></ul></li><li><a href="/notebook/fluent-react/" aria-current="page" class="active sidebar-link">Fluent React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/fluent-react/#jsx" class="sidebar-link">JSX</a></li><li class="sidebar-sub-header"><a href="/notebook/fluent-react/#the-virtual-dom" class="sidebar-link">The Virtual DOM</a></li><li class="sidebar-sub-header"><a href="/notebook/fluent-react/#inside-reconciliation" class="sidebar-link">Inside Reconciliation</a></li><li class="sidebar-sub-header"><a href="/notebook/fluent-react/#common-questions-and-powerful-patterns" class="sidebar-link">Common Questions and Powerful Patterns</a></li><li class="sidebar-sub-header"><a href="/notebook/fluent-react/#framesworks" class="sidebar-link">Framesworks</a></li></ul></li><li><a href="/notebook/advanced-react/" class="sidebar-link">Advanced React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#intro-to-re-renders" class="sidebar-link">Intro-to re-renders</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#elements-children-as-props-and-re-renders-components-as-props-pattern" class="sidebar-link">Elements, children as props, and re-renders (Components as Props Pattern)</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#configuration-concerns-with-elements-as-props" class="sidebar-link">Configuration concerns with elements as props</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#advanced-configuration-with-render-props" class="sidebar-link">Advanced configuration with render props</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#memorization-with-usememo-usecallback-and-react-memo" class="sidebar-link">Memorization with useMemo useCallback and React.memo</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#deep-dive-into-diffing-and-reconciliation" class="sidebar-link">Deep dive into diffing and reconciliation</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#hoc-in-modern-world" class="sidebar-link">HOC in modern world</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#react-context-and-performance" class="sidebar-link">React Context and Performance</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#refs-from-storing-data-to-imperative-api" class="sidebar-link">Refs: from storing data to imperative API</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#closures-in-react" class="sidebar-link">Closures in React</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#implementing-advanced-debouncing-and-throttling-with-refs" class="sidebar-link">Implementing advanced debouncing and throttling with Refs</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#escaping-flickering-ui-with-uselayouteffect" class="sidebar-link">Escaping Flickering UI with useLayoutEffect</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#react-portals-and-why-do-we-need-them" class="sidebar-link">React portals and why do we need them</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#data-fetching-on-the-client-and-performance" class="sidebar-link">Data fetching on the client and performance</a></li><li class="sidebar-sub-header"><a href="/notebook/advanced-react/#data-fetching-and-race-conditions" class="sidebar-link">Data fetching and race conditions</a></li></ul></li><li><a href="/notebook/functional-approach-to-java/" class="sidebar-link">A Functional Approach to Java</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#an-introduction-to-functional-programming" class="sidebar-link">An Introduction to Functional Programming</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#functional-java" class="sidebar-link">Functional Java</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#functional-interfaces-of-the-jdk" class="sidebar-link">Functional Interfaces of the JDK</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#immutability-2" class="sidebar-link">Immutability</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#working-with-records" class="sidebar-link">Working with Records</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#data-processing-with-streams" class="sidebar-link">Data Processing with Streams</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#working-with-streams" class="sidebar-link">Working with Streams</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#parallel-data-processing-with-streams" class="sidebar-link">Parallel Data Processing with Streams</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#handing-null-with-optionals" class="sidebar-link">Handing null with Optionals</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#functional-exception-handling" class="sidebar-link">Functional Exception Handling</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#lazy-evaluation-2" class="sidebar-link">Lazy Evaluation</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#asynchronous-tasks" class="sidebar-link">Asynchronous Tasks</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-approach-to-java/#functional-design-patterns" class="sidebar-link">Functional Design Patterns</a></li></ul></li><li><a href="/notebook/functional-programming-in-java-bookshelf/" class="sidebar-link">Functional Programming in Java</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/functional-programming-in-java-bookshelf/#error-handling" class="sidebar-link">Error Handling</a></li><li class="sidebar-sub-header"><a href="/notebook/functional-programming-in-java-bookshelf/#functional-programming-idioms" class="sidebar-link">Functional Programming Idioms</a></li></ul></li><li><a href="/notebook/micro-frontends-in-action/" class="sidebar-link">Micro Frontends in Action</a></li><li><a href="/notebook/web-accessibility-cookbook/" class="sidebar-link">Web Accessibility Cookbook</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#structuring-documents" class="sidebar-link">Structuring Documents</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#structuring-pages" class="sidebar-link">Structuring Pages</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#linking-content" class="sidebar-link">Linking Content</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#performing-actions" class="sidebar-link">Performing Actions</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#styling-content" class="sidebar-link">Styling Content</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#managing-focus" class="sidebar-link">Managing Focus</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#navigating-sites" class="sidebar-link">Navigating Sites</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#toggling-content-visibility" class="sidebar-link">Toggling Content Visibility</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#constructing-forms" class="sidebar-link">Constructing Forms</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#presenting-tabular-data" class="sidebar-link">Presenting Tabular Data</a></li><li class="sidebar-sub-header"><a href="/notebook/web-accessibility-cookbook/#creating-custom-elements" class="sidebar-link">Creating Custom Elements</a></li></ul></li><li><a href="/notebook/building-micro-frontends/" class="sidebar-link">Building Micro-Frontends</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/building-micro-frontends/#microservice-micro-frontends-principles" class="sidebar-link">Microservice/Micro-Frontends Principles</a></li><li class="sidebar-sub-header"><a href="/notebook/building-micro-frontends/#define-micro-frontends" class="sidebar-link">Define Micro-Frontends</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="fluent-react"><a href="#fluent-react" class="header-anchor">#</a> <a href="https://book.douban.com/subject/36677814/" target="_blank" rel="noopener noreferrer">Fluent React<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h1> <h2 id="jsx"><a href="#jsx" class="header-anchor">#</a> JSX</h2> <p>Benefits of JSX:</p> <ul><li>Easier to read and write</li> <li>Improved security</li> <li>Strong typing</li> <li>Encourages component-based architecture</li> <li>Widely used</li></ul> <p>Drawbacks of JSX:</p> <ul><li>Learning curve</li> <li>Requires tooling</li> <li>Mixing of concerns</li> <li>Partial JavaScript compatibility</li></ul> <h2 id="the-virtual-dom"><a href="#the-virtual-dom" class="header-anchor">#</a> The Virtual DOM</h2> <p>Diff Algorithm:</p> <ul><li>If the nodes at the root level of the two trees are different, React will replace the entire tree with the new one.</li> <li>If the nodes at the root level are the same, React will update the attributes of the node if they have changed.</li> <li>If the children of a node are different, React will update only the children that have changed. React does not re-create the entire subtree; it only updates the nodes that have changed.</li> <li>If the children of a node are the same, but their order has changed, React will reorder the nodes in the read DOM without re-creating them.</li> <li>If a node is removed from the tree, React will remove it from the real DOM.</li> <li>If a new node has been added to the tree, React will add it to the real DOM.</li> <li>If a node's type has changed, React will remove the old node and create a new node of the new type.</li> <li>If the node has a key prop, React use it to know if it should replace the node or not. It can be useful when you need to reset the state of the components (force mount).</li></ul> <h2 id="inside-reconciliation"><a href="#inside-reconciliation" class="header-anchor">#</a> Inside Reconciliation</h2> <p><a href="https://www.geeksforgeeks.org/reactjs-reconciliation/" target="_blank" rel="noopener noreferrer">React Reconciliation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Fiber reconciliation happens in two phases: the render phase and the commit phase. This two-phase approach allows React to do rendering work that can be disposed of at any time before committing it to the DOM and showing a new state to users: it makes rendering interuptible.</p> <p><img src="/notebook/assets/img/ReconciliationFlow.1376b3d5.png" alt="Reconciliation Flow"></p> <h2 id="common-questions-and-powerful-patterns"><a href="#common-questions-and-powerful-patterns" class="header-anchor">#</a> Common Questions and Powerful Patterns</h2> <p>这一章介绍了React提供的几个优化API和Patterns</p> <h3 id="react-memo"><a href="#react-memo" class="header-anchor">#</a> React.memo</h3> <p>这个是对组件的包装，目的是props不变就不要rerender (当然自身state的变化和context也会引起rerender)</p> <p>使用的时候要在父组件中结合使用useMemo和useCallback，减少不必要的props变化，进而减少无效的rerender。</p> <h3 id="usememo-usecallback"><a href="#usememo-usecallback" class="header-anchor">#</a> useMemo useCallback</h3> <p>useMemo是对数据的缓存，要注意不要overuse。</p> <p>对于useCallback我更倾向于使用 <a href="https://ahooks.js.org/zh-CN/hooks/use-memoized-fn" target="_blank" rel="noopener noreferrer">useMemoizedFn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>替代，无需关心deps参数，并且能保证返回的函数地址不变。</p> <h3 id="react-lazy-和-react-suspense"><a href="#react-lazy-和-react-suspense" class="header-anchor">#</a> React.lazy 和 React.Suspense</h3> <p>结合使用，异步加载组件。Suspense可以提供一个fallback指示loading，优化用户体验。</p> <h3 id="presentational-container-component"><a href="#presentational-container-component" class="header-anchor">#</a> Presentational/Container Component</h3> <p>Presentational Component renders the UI, and the Container Component handles the state of the UI.</p> <p>还有一个类似个概念叫 headless component，就是之负责逻辑，然后通过 render props 和具体的UI组件结合起来。</p> <p>当然现在都是用hook啦，hook负责state。</p> <h3 id="high-order-component"><a href="#high-order-component" class="header-anchor">#</a> High-Order Component</h3> <p>在Class Component时代这个很流行，现在主要是用hook了。</p> <h3 id="render-props"><a href="#render-props" class="header-anchor">#</a> Render Props</h3> <p>现在用的也不多了，都被hook替代了</p> <h3 id="control-props-pattern"><a href="#control-props-pattern" class="header-anchor">#</a> Control Props Pattern</h3> <p>这个是基于 controlled component 的扩展。</p> <p>Controlled component 自身不维护状态， 通过props接收当前的状态 (single source of truth for state)，通过调用callback通知父组件状态的改变。</p> <p>Control Props 允许 通过props控制状态(传统的 controlled component) 或者 内部维护状态 (没有props时fallback到这种模式)。</p> <p>This pattern enhance component flexibility, offering both controlled and uncontrolled modes of operation. It allows the parent to be in charge when necessary, while also letting the component retain autonomy over its own state when not explicitly controlled.</p> <h3 id="prop-collections"><a href="#prop-collections" class="header-anchor">#</a> Prop Collections</h3> <p><a href="https://medium.com/@elhamelshami.dev/what-is-the-prop-getters-pattern-26349e5637df" target="_blank" rel="noopener noreferrer">Reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useCallback<span class="token punctuation">,</span> useMemo<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">executeFunctions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>funs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  funs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fun</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fun <span class="token operator">&amp;&amp;</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isToggle<span class="token punctuation">,</span> setStateToggle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> toggle <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setStateToggle</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>prevValue<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> getTogglerProps <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClick<span class="token punctuation">,</span> props <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">is_on</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isToggle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">onClick</span><span class="token operator">:</span> <span class="token function">executeFunctions</span><span class="token punctuation">(</span>onClick<span class="token punctuation">,</span> toggle<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>props
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>toggle<span class="token punctuation">,</span> isToggle<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> isToggle<span class="token punctuation">,</span> toggle<span class="token punctuation">,</span> getTogglerProps <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    isToggle<span class="token punctuation">,</span>
    toggle<span class="token punctuation">,</span>
    getTogglerProps
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> values<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>大体上是hook返回一个函数，函数返回的是component的props。之所以返回是函数是为了提高灵活性，能够增强返回的props。</p> <h3 id="compound-component-pattern"><a href="#compound-component-pattern" class="header-anchor">#</a> Compound Component Pattern</h3> <p>对于 Menu/MenuItem Accordion/AccordionItem Select/Option RadioGroup/Radio 这种类型的组件，一种设计是不暴露这些Item组件，只暴露Group组件并提供一个items属性，Group组件基于这个items属性渲染Item组件，这样实现对于使用者来说使用简单，只需要传递数据即可，针对简单场景使用方便，但是不够灵活。</p> <p>Compound Component Pattern 把Group和Item类型组件都暴露出来，这样 invert control of rendering , separation of concerns 更加 flexible . 这一模式下 Group和Item组件数据通讯需要利用Context辅助了。</p> <p>其实两种模式可以都兼容，如果传了items数组按照按照第一种模式处理，基于数组渲染Item，如果没有items数组按照compound component pattern处理，渲染children。</p> <h2 id="framesworks"><a href="#framesworks" class="header-anchor">#</a> Framesworks</h2> <p>Benefits of Using a Framework:</p> <ul><li>Structure and consistency</li> <li>Best Practices</li> <li>Abstractions</li> <li>Performance optimization</li> <li>Community and ecosystem</li></ul> <p>Trade-Offs of Using a Framework</p> <ul><li>Learning curve</li> <li>Flexibility versus convention</li> <li>Dependency and commitment</li> <li>Abstraction overhead</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notebook/modern-java-recipe/" class="prev">
        Modern Java Recipes
      </a></span> <span class="next"><a href="/notebook/advanced-react/">
        Advanced React
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notebook/assets/js/app.c05f7634.js" defer></script><script src="/notebook/assets/js/2.76d9cd0c.js" defer></script><script src="/notebook/assets/js/16.ff20a781.js" defer></script>
  </body>
</html>
